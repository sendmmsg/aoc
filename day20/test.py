#!/usr/bin/env python3


def transpose_grid(g):
    ng = {}
    for x in range(24):
        for y in range(24):
            ng[(x, y)] = g[(y, x)]
    return ng


# field = ".#.#..#.##...#.##..########....#.#....#..#......##.##.###.#.#..######...###.#####...#.#####.#..###.#....#.##.####...#.##...########.#....#####.#....#..#...##..#.#.###...####...#..#.....#......#..#.##..#..###.#.##....#.####..#.####.#.#.###..###.#.#...#.######.#..###.####....##..########.###..##.#...#...#.#.#.#.....#..#..#.#.##..###.###.#.#....#.##.#...###.##.###.#...#..#.##.######...#.#.###.##.##.#..#.##...####.###.#...###.#..#.#..#.#..#..#.#.#.####.####..####...#.#.#.###.###.#####..#####...###....###.##..#..#...#..####...#.#.###..##..##..####.##....###...##...#...#..###"
field = "#...#.#...........##..#...##.............#.#....#.......#.......................................#.##.#..........#........#.#..#....#.......#..#........##..##.#...#.#...#.#.#....#..#.....#...#..#....#...#..................##.....#.....#..#.####...#........#...###..####....###.##.....###.#....#....#.#....#....#.#......##..##...###.#..#.......##...#....#.###.##.#.#####..#......##....####..#..#.#.....#.#.#..##....#...#......##.........#........#................#......###..................#........#...#.#..###...###.#.###.......#.....##..#...#..#.#............#.##......#.#........#...#...#..#....##..#..#.##.##.##...##.##.#..#..##.....#...#......#..##....##.##.##....#......#.#.#......#.....#..#.................#........#..........#.#.#.#...#.##..##..###..................#..#...#...#..#.#.#.........##..#.#.....#........##.....#...#.#.....##..##...#......#............#.#...#.#..........................#...#....#.......#........###.#..#.###..###.#..####..#..#..#..#.#.......#.#.#...#.#.#..#....#..................##.......#...##.#..#..#..##.####..................#..............#...#.###....#...#.#.#..#......##...##..#......##.##..#......#..........#..#..#....#..#.........##...#............#...........#....#.#..#...#.##...#.##..#...###...#...##......#......#.#....#.#..#..........#.....#.....#..#.#..#........#...#....#....#.#....#........#........##..##......####.......#...#.........##.#.....#......###.#...................#.###..#.....#...###....##....####..#.#..##.##.......#.#.#..###...##...####......#.....##.....#.#..#....#..#..#..##.#..#..#.##..#........#.#...#......###..#..#..#..##.#........##.............###.##..#.....#.##..#....#.....##.....#....#.#.#.#.#.........#.....##..........##.#............#...........#..................##.#.#.##....#............###..#.....#....................#..............#....#...#......##.......#.#...#..#.##..#.......##..#.#...............#......#.#....#.............#...#.......#...........##....#.##..###...###..#####..#...###..##.....#.#..#..........#...............#......#......#....#.#.##..#.##.###.#.##..#####..##.........#..#..#..#.#...###.....#....#####..##.....#..#...............#........#..........#..##...#.....#.....#.........#.#..............##..............#.............#.#.......##..#...........##.....#...........#..#....#..........#......#.#....#...#.#.#...........#..#.#...#.#.....##...........#.......#...#.#....#....##....#..#.#.#........#..#....#..#..#...#...#............#........#................##.#............#..##.........#......#.#..##.............#...#..#.##...###.#..###...#...#......##...#.#.......#......####.###...###...###..#..#..........#..#.#..#..#..#..##.#......#..#......#.............#.........#..#..#..#.##..#........#...#.......#.#....#........#.........#.#.........##....#............#.......#.#...#..#....#...##........#.......##......#.......#........#.#..#.####...#.#...........#.#.......###..........##........#...#.#..##....###..........#........###........#......#...#..##.#............#.##.......#......#.#..#...#....#...#..#............#.#..#.........#..#....#.#.....#.....#..........#....#....##...#####..###.........##....##....#....#...#........#.............#.#..#.......#...#.....##.##.##..##.#..#...#...##..#.....##.....##...#.....#...#..#...#.........#....#..##.#......#.#.#.##....#.#...#.#..............#..#.#...##........#...#...............#..#..#.........#.............#..#.#..#....#.....................##...#.....#.......##..#.#...#.#..#..............#.#.......#.#.......#......#.#.##....#....#...#...........#.....####.###..###.##.........................#..#..#....................#.........#..#....##....##..#.###...###.#....#.......#....#....##.......#..#..#..#..#...##.........#.##.#.#...##.#.##.##..##.#...........#.#.......#...#...#.....#........................#..#..#..#..#...#.#.#..#.#.........#.....#......##....#.......#.......#.........#.......#..##...#..............##...........#..###.........#....#.#....#.#..#...#......#.#.#.........#.......#..#.##...###....###...#..#......#..#...#.#.#.#......#.###............#..#.###..#......#.......###..#..#..#..#..#......#.#.##..#.##....###...####...##..#.....#...........###...#.#........#.#......#.........#..##......#.###..#..##.#..#.##...#.##.........#..........#.#...##..##....##........#.##................#..##...#.....#.......#....###....##.####....##....####.....#.......###...##.#......#........#....#.##..#.......###..............#.#..#.##..##.##.#...##...#..#.........###..#.#.#....#.......#.....##.#.#.###.....#........#......#.....#...#...#..#.#.#...#...#.#.#........#..####.........#.#.......#..#.......##..#...#.............#.#...##.##...#..#......#...........#.#.#.#...#..#.#....#..#....#...#.........#...###...#....#..........#....#.#..#.#.......#...#...............#.#...##.#..##.#.........#....#.....##...#..#.#......#........#..#............####......#.....#.........#..#.....#...#.#....#.......#.....#..#..#..#.....##...#..#.###...###..#####..##..............#.#.#..#.......#........#...#....#.#......#.#.......###...#..#..####..#..###...#......#..#........#...#....##..#.##...####..#..#...#..#...........##...#...##.#......#..##..............#.....#..##..#.#..#..##.##.#..#..##..#.#........#..#..#..#....###.....##...#.#.#....##.........#..#.......#............#.....#..#.#..#.##.##.......#.....##.....#......#...#.##.#..............#.........#.......#..#.......#....#..#....####.#..#...........#..#..#...#..##....#.#............##.#..............#.#......#.....#.......#.....#..#..#......#........#.#...........#....#.....#...#...###...###.#..###.....##..#..###....#..........#.#..#..#..#......#....#.#............#.......##.##..#..#..#..#..#..#..........#................#.#....#..#.###..####...###.#.#.##...............#.........#..........##.....#.....#...#.........#..#...##.#..#.##..##.##......#...#............#.....##..#........#..##......#..............#.......#.................#...................#..##.....#.#.........#.#......#.#......##...#...#....#...#...............##.....###......................#.#.##.......#.#....................#..#....#..##.#........#........#..#....#....##.........#.......####................#..............#.#....#...##.#..#.#..#.#..#.##....##..#.###....#..#..#...#...............##.....#..#..........#.........##.....#.#.....##..#.##..#.##.##.......#........#......#.#....#........#........##......#...##.#..........#....##.........#..#.....#.......#........#.....#........#.......###..#.##...##.......#...#..............#.....#.....#...#.......#.#.....#...........#.....#..#..####..##....#............#.#..#..#.........#.....#.....##.#.......#.##.###...##...####.......###.#................#...##...#..#...........#.........#....#......#.##..#..##.#.##..##...#.....#.#....#......#....#.......#......##.##..#...#.........#....#.....#.......#.....#.#.#....#..#.#...........#.#..#.........#.........##...#.......#..#.....#..##.#...#...#...#.......#........#...##.#.......##........#....#...#..#........#.#....##.#...##..#....#.............#..#.....##............................#.#...#...#.....#..##..........#..#.........#.#..##....#..............##.............#..##..#............#...#...#...#..#..#...#..#.....#.##......#........#.......####.............#........#.##..#..#.....#..#....#.............#..........#.#.............#...##.#.....#...#....#......#.....#.......#...#.#.#.##.##.#..##...####.#.......#..##.......#.###.#.......#.....#...#.........#...#.................#.##..#..####..##..#..#.....#....##....#.......##.#.#.#..#..#.......#.....##.#...#.......###...##.#.....#..##..#.#...#.....#.....###.....#.....##....#...........#.#......#..#....#........#....##...#..#..##..##.....#..##......#.#....##....##.##.####......#...#......................................#..........#........#......#..##.##.#..##.#..#..####.#..##....#..##...##...#....#....##.....#.#..#.#..............#..#........#....#..#.......#.#.#..#......#.......#........#.#....##..#.##....####...........#...#.#......#.....#.#..##....#...........#..#..###.....#......#.#..#..#..#..#..#......#................#....##..##....#..........#...#.##......##.###.##.#...........#.......................#..........##.#.....###.#....#.............#.#.##....#...........#...#....#...#......#.###.....#..#..#...............####.....#...#...#.....##....#.............#......##....#.......#..#...##..#....#.#.##..#............#...###........#.#........#.....#....#..#...#...#....##....##..#.###........#..##...............................#..#..##.#.................#..#..##.#..#..#..#..#....#..#..###.#...............#....#.#.#.....#.......#......#..#.#............#...#..#....#..#..#...#..##...##..#.#.....#..#.....#..#..................#......##..#.#........##.#..#.........#..#.#....#.#..#..........#.............#.#.#..##.#....#...#....#..........#.....#.##.........#...#.....#.#..##.##.###..####.#........#........#.###....#.##........#.##...#...#...##...#....#......##..##.##..#..#..#..#.....#..........#...........#.#.#...#...........................................###............#..........#......#...........##..................#.....#........#...##....#.............#...#...##.#......#....##...##................##.............#..###..#.......#........##.#......#......#......##..#.......#..#......."
grid = {}
x = 0
y = 0
for c in field:
    grid[(x, y)] = c
    x += 1
    if x == 96:
        y += 1
        x = 0
print(" grid output ")
# grid = transpose_grid(grid)
for y in range(96):
    for x in range(96):
        print("{}".format(grid[(x, y)]), end="")
    print("")

    #
#    ##    ##    ###
#  #  #  #  #  #


mask = [
    [18, 0],
    [0, 1],
    [5, 1],
    [6, 1],
    [11, 1],
    [12, 1],
    [17, 1],
    [18, 1],
    [19, 1],
    [1, 2],
    [4, 2],
    [7, 2],
    [10, 2],
    [13, 2],
    [16, 2],
]


def match_mask(g, mask, x, y):
    # print("looking at ({}, {})".format(x, y))
    for n in mask:
        xf = x + n[0]
        yf = y + n[1]
        try:
            if g[(xf, yf)] != "#" and g[(xf, yf)] != "O":
                #           print("<-- g[({},{})] is {}".format(xf, yf, g[(xf, yf)]))
                return False
        #       else:
        #           print(" !! [({},{})] is {}".format(xf, yf, g[(xf, yf)]))
        except KeyError as e:
            print("Key: ", e)
            return False

    for n in mask:
        xf = x + n[0]
        yf = y + n[1]
        g[(xf, yf)] = "O"

    return g


for y in range(96):
    for x in range(96):
        print("")
        g = match_mask(grid, mask, x, y)
        if g:
            print("Found one!")
            grid = g
    #   else:
    #       print("Nothing found at {},{}".format(x, y))

for y in range(96):
    for x in range(96):
        print("{}".format(grid[(x, y)]), end="")
    print("")

count = 0
for n in grid:
    if grid[n] == "#":
        count += 1
print("Inte orm: {}".format(count))
